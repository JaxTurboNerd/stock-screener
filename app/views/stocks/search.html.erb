<div class='flex flex-col items-center h-screen w-full p-5 bg-white dark:bg-gray-900'>
  <p class='text-4xl text-gray-900 dark:text-white mb-6'>Stock Screener Results</p>
  
  <% if @results.present? %>
    <div class='w-full max-w-6xl'>
      <div class='bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6'>
        <h2 class='text-2xl font-bold text-gray-900 dark:text-white mb-4'>Found <%= @results.is_a?(Array) ? @results.length : 1 %> result(s)</h2>
        
        <% if @results.is_a?(Array) %>
          <div class='overflow-x-auto'>
            <table class='min-w-full divide-y divide-gray-200 dark:divide-gray-700'>
              <thead class='bg-gray-50 dark:bg-gray-700'>
                <tr>
                  <th class='px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider'>Symbol</th>
                  <th class='px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider'>Name</th>
                  <th class='px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider'>Price</th>
                  <th class='px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider'>Market Cap</th>
                </tr>
              </thead>
              <tbody class='bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700'>
                <% @results.each do |result| %>
                  <tr>
                    <td class='px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white'><%= result['symbol'] || result[:symbol] || 'N/A' %></td>
                    <td class='px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300'><%= result['name'] || result[:name] || 'N/A' %></td>
                    <td class='px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300'><%= result['price'] || result[:price] || 'N/A' %></td>
                    <td class='px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300'><%= result['marketCap'] || result[:market_cap] || 'N/A' %></td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        <% else %>
          <div class='bg-gray-50 dark:bg-gray-700 rounded-lg p-4'>
            <pre class='text-sm text-gray-900 dark:text-white whitespace-pre-wrap'><%= @results.to_json %></pre>
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class='bg-yellow-50 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4 mb-4'>
      <p class='text-yellow-800 dark:text-yellow-200'>No results found. Please try adjusting your search criteria.</p>
    </div>
  <% end %>
  
  <div class='mt-6'>
    <%= link_to 'Back to Screener', root_path, class: 'px-6 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors text-lg font-semibold' %>
  </div>
</div>

